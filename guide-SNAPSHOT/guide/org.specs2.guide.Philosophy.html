<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <style type="text/css" media="all">
        @import url('./../../css/maven-base.css');
        @import url('./../../css/maven-theme.css');
      </style>
      <link type="text/css" rel="stylesheet" href="./../../css/prettify.css" />
      <script type="text/javascript" src="./../../css/prettify.js"></script>
      <link type="text/css" media="print" rel="stylesheet" href="./../../css/print.css" />
      <link type="text/css" rel="stylesheet" href="./../../css/tooltip.css" />
      <link type="text/css" rel="stylesheet" href="./../../css/specs2-user.css" />

      <script type="text/javascript" src="./../../css/jquery.js"></script>
      <script type="text/javascript" src="./../../css/jquery.cookie.js"></script>
      <script type="text/javascript" src="./../../css/jquery.hotkeys.js"></script>
      <script type="text/javascript" src="./../../css/jquery.jstree.js"></script>
      <script type="text/javascript" src="./../../css/tooltip.js"></script>
      <script language="javascript">
      function init() {  prettyPrint(); };
      /* found on : http://www.tek-tips.com/faqs.cfm?fid=6620 */
      String.prototype.endsWith = function(str) { return (this.match(str+'$') == str) };
      function changeWidth(id,width) {  document.getElementById(id).style.width = width; };
      function changeMarginLeft(id, margin) { document.getElementById(id).style.marginLeft = margin; };
      function toggleImage(image) {
        if (image.src.endsWith('images/expanded.gif')) 
          image.src = 'images/collapsed.gif';
        else 
          image.src = 'images/expanded.gif';
      };
      function showHide(id) {
        element = document.getElementById(id);
        element.style.display = (element.style.display == 'block')? 'none' : 'block';
      };
      function showHideByClass(name) {
		    var elements = document.getElementsByClassName(name);
        for (i = 0; i < elements.length; i++) {
		      elements[i].style.display = (elements[i].style.display == 'none') ? elements[i].style.display = '': 'none';
        }
      };
      function showByClass(name) {
        var elements = document.getElementsByClassName(name);
        for (i = 0; i < elements.length; i++) {
          elements[i].style.display = 'block';
        }
      };
      function hideByClass(name) {
        var elements = document.getElementsByClassName(name);
        for (i = 0; i < elements.length; i++) {
          elements[i].style.display = 'none';
        }
      };
      function showById(id) {
        document.getElementById(id).style.display = ''
      };
      function hideById(id) {
        document.getElementById(id).style.display = 'none'
      };
    </script>
      <script language="javascript">window.onload=init;</script>
      <!-- the tabber.js file must be loaded after the onload function has been set, in order to run the
           tabber code, then the init code -->
      <script type="text/javascript" src="./../../css/tabber.js"></script>
      <link type="text/css" media="screen" rel="stylesheet" href="./../../css/tabber.css" />
    </head><body><div id="breadcrumbs"><a href="../../guide-SNAPSHOT/guide/org.specs2.UserGuide.html">UserGuide</a><t> / </t><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html">Philosophy</a></div><div id="leftcolumn"><div id="tree">
      <ul><li id="743613866"><a href="../../guide-SNAPSHOT/guide/org.specs2.UserGuide.html#User+Guide_-824556403">User Guide</a>
            <ul><li id="1000844307"><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.QuickStart.html#Quick+Start_1559045223">Quick Start</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.QuickStart.html#Unit_-265658116">Unit</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.QuickStart.html#Acceptance_-738870220">Acceptance</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.QuickStart.html#Execution_437457535">Execution</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.QuickStart.html#And+much+more%21_246332816">And much more!</a>
            
          </li></ul>
          </li><li id="1333413855"><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Structure_861238898">Structure</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Presentation_365374749">Presentation</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Declare+examples_-1032122672">Declare examples</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Styles_-1064990315">Styles</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Acceptance+specification_1494332555">Acceptance specification</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Unit+specification_1722086072">Unit specification</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Results_-607332745">Results</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Standard_2090893844">Standard</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Matchers_-666113004">Matchers</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Expectations_1741074391">Expectations</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Functional_916178097">Functional</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Thrown_1647235623">Thrown</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#All_-13536732">All</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Short-circuit_-714841775">Short-circuit</a>
            
          </li></ul>
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Pending+until+fixed_657494037">Pending until fixed</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Auto-Examples_-1629364534">Auto-Examples</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#G%2FW%2FT_-1759730983">G/W/T</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Multiple+steps_2109836060">Multiple steps</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Extract+methods_-1419221427">Extract methods</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#User+regexps_1338880410">User regexps</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#G%2FW%2FT+sequences_-1991323091">G/W/T sequences</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#ScalaCheck_-1548256549">ScalaCheck</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Single+step_-1037371200">Single step</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Conversions_1398932305">Conversions</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Unit+specification_1040108231">Unit specification</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#DataTables_849446139">DataTables</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Links_72642452">Links</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Inclusion_-1707421446">Inclusion</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Html+link_-277496328">Html link</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Html+Link_951876701">Html Link</a>
            
          </li></ul>
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Reference_-718215015">Reference</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Markdown+url_-2135886927">Markdown url</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Contexts_-245556754">Contexts</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Isolation_444922941">Isolation</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Scope_-223631426">Scope</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Isolated+variables_-1180546828">Isolated variables</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Case+classes_-1885326875">Case classes</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Contexts+inheritance_-1912536317">Contexts inheritance</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Before%2FAfter_-2035055880">Before/After</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#In+a+mutable+specification_1140413096">In a mutable specification</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#In+an+acceptance+specification_-252079869">In an acceptance specification</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Around_-1662281760">Around</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Outside_120328932">Outside</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#AroundOutside_532185299">AroundOutside</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#BeforeExample_1607593896">BeforeExample</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Implicit+context_-1977347620">Implicit context</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Composition_1174393895">Composition</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Combinations_153432571">Combinations</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Composition_-509586833">Composition</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Steps%2FActions_-1205670804">Steps/Actions</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Steps_-1448268087">Steps</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Actions_-1400125550">Actions</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Template_684178333">Template</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Execution_-68664595">Execution</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Layout_-1237388870">Layout</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Rules_-2118086662">Rules</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Formatting+fragments_-372132343">Formatting fragments</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Separating+groups+of+examples_1077496535">Separating groups of examples</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Reset+the+levels_2049492202">Reset the levels</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Changing+the+indentation+level_-347006953">Changing the indentation level</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Combinations_-1920512814">Combinations</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Turning-off+the+automatic+layout_-1705817583">Turning-off the automatic layout</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Unit+specification_-958394348">Unit specification</a>
            
          </li></ul>
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Unit+specifications_-213072482">Unit specifications</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#How+to%3F_-890910210">How to?</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Declare+arguments_385075308">Declare arguments</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Pass+arguments_1181878491">Pass arguments</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Add+a+title_-1713859296">Add a title</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Use+descriptions_-995532142">Use descriptions</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Enhance+failures_466275030">Enhance failures</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Share+examples_-721160482">Share examples</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Create+an+index_-544224523">Create an index</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Tag+examples_-550954705">Tag examples</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#In+a+unit+specification_-1075449479">In a unit specification</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Skip+examples_1628117614">Skip examples</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Debug+statements_-913454942">Debug statements</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Structure.html#Remove+implicits_-476861550">Remove implicits</a>
            
          </li></ul>
          </li></ul>
          </li><li id="485462410"><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Matchers_-1114235341">Matchers</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Boolean+results_-979011587">Boolean results</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Standard+results_1717156868">Standard results</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Combinators_-850068506">Combinators</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Match+results_-2037355741">Match results</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Out+of+the+box_1495118844">Out of the box</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Optional_1896775550">Optional</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Custom_-1060490305">Custom</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#With+sequences_-493311865">With sequences</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#ScalaCheck_-1525112729">ScalaCheck</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Arbitrary+instances_-1387655897">Arbitrary instances</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#With+Generators_1436029384">With Generators</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Test+properties_143146982">Test properties</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Mock+expectations_1605976607">Mock expectations</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Creation+and+settings_696366292">Creation and settings</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Stubbing_1877020582">Stubbing</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Mocking+and+Stubbing+at+the+same+time_-603777293">Mocking and Stubbing at the same time</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#With+matchers_1770448808">With matchers</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Callbacks_-962836089">Callbacks</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Parameters+for+the+answers+function_1372925027">Parameters for the answers function</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Verification_-1965480750">Verification</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Order+of+calls_-1798602280">Order of calls</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Ignoring+stubs_-225462387">Ignoring stubs</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Spies_1010629945">Spies</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Functions%2FPartialFunctions_-874584941">Functions/PartialFunctions</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Auto-boxing_-161745347">Auto-boxing</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Byname_-1356597121">Byname</a>
            
          </li></ul>
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#DataTables_-813014967">DataTables</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Forms_-1403806608">Forms</a>
            <ul><li id="1494783861"><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Forms_-463225553">Forms</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Fields_-874726952">Fields</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Effects_1709723400">Effects</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Properties_-16705758">Properties</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Styles_-1272792918">Styles</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Simple+form_1449296649">Simple form</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Adding+several+rows+at+once_-1284144980">Adding several rows at once</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Nesting+a+Form+into+another+Form_-644601293">Nesting a Form into another Form</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Nesting+a+Form+into+an+Effect+or+a+Prop_-2140292675">Nesting a Form into an Effect or a Prop</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Using+tabs_299712102">Using tabs</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Aggregating+forms_1462822449">Aggregating forms</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Lazy+cells_-223181582">Lazy cells</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Xml+cells_1557960999">Xml cells</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#1-n+relationships_-1195389304">1-n relationships</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Subset_1863468944">Subset</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Subsequence_-1028270417">Subsequence</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Set_-1249391323">Set</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Sequence_344285987">Sequence</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Forms.html#Decision+tables_2084242493">Decision tables</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Outside+specs2_-490691480">Outside specs2</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Matchers.html#Without+any+dependency+on+specs2_-188543368">Without any dependency on specs2</a>
            
          </li></ul>
          </li></ul>
          </li><li id="1436263212"><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Runners_872377198">Runners</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Presentation_365374749">Presentation</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Dependencies_-1486089324">Dependencies</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Arguments_-2072760198">Arguments</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#API_888073790">API</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Most%2FLeast+frequently+used+arguments_589012180">Most/Least frequently used arguments</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Shortcuts_-621849301">Shortcuts</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Output+directory_-100358002">Output directory</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Storing+previous+results_-1354642071">Storing previous results</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Status+flags_-12369815">Status flags</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Diffs_-1255295455">Diffs</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#StackTraceFilter_1423271421">StackTraceFilter</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Command+line_1921844932">Command line</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#System+properties_126942278">System properties</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#In+the+shell_2051347803">In the shell</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Console+output_-792997068">Console output</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Html+output_1729257690">Html output</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#JUnit+XML+output_1440500391">JUnit XML output</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Files+Runner_545781077">Files Runner</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#In+the+console_479807601">In the console</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Via+SBT_1256690676">Via SBT</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#with+sbt+0.7.x_-1579613187">with sbt 0.7.x</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#with+sbt+%3E+0.9.x_-480897984">with sbt &gt; 0.9.x</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Test-only+arguments_-51869884">Test-only arguments</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Output+formats_-1842519085">Output formats</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Html_1095872797">Html</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Markdown_-225772476">Markdown</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#JUnit_1949833960">JUnit</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Console_-1462801849">Console</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Files+runner_171283788">Files runner</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Colors_1503774269">Colors</a>
            
          </li></ul>
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Via+IDEA_612408534">Via IDEA</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Via+JUnit_-1302448280">Via JUnit</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Arguments_-403794466">Arguments</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Via+Eclipse_1458448546">Via Eclipse</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Via+Maven_-1922333803">Via Maven</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#With+your+own_-347186558">With your own</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Notifier_-360031971">Notifier</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#NotifierRunner_-643585570">NotifierRunner</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#In+sbt_-383015418">In sbt</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#Exporter_-1541215086">Exporter</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Runners.html#In+sbt_-383015418">In sbt</a>
            
          </li></ul>
          </li></ul>
          </li></ul>
          </li><li id="1222727554"><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Philosophy_-404287780">Philosophy</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#The+origins_285155974">The origins</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#The+score_-975445083">The score</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Conciseness_484104204">Conciseness</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Readability_1554152347">Readability</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Extensibility_330891323">Extensibility</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Configuration_-562058089">Configuration</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Clear+implementation_-442474307">Clear implementation</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#User+support_-98655206">User support</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#A+new+hope_894015730">A new hope</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Functional+%2F+immutable_2018737816">Functional / immutable</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Chaining+everything_1761285342">Chaining everything</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Arguments+have+to+be+supplied_703189229">Arguments have to be supplied</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Concurrency+is+a+breeze_1161543875">Concurrency is a breeze</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#A+simple+structure_-692949634">A simple structure</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Contexts_1061086960">Contexts</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Indentation_-941511794">Indentation</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Operators_16410242">Operators</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Forms_432042387">Forms</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#But+if+you+STILL+want+mutable+specifications_1530622421">But if you STILL want mutable specifications</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Dependencies+control_306079698">Dependencies control</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Philosophy.html#Implicit+definitions+control_-417061706">Implicit definitions control</a>
            
          </li></ul>
          </li></ul>
          </li><li id="116397374"><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Design.html#Design_1321730296">Design</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Design.html#Presentation_365374749">Presentation</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Design.html#Structure_306083527">Structure</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Design.html#Creation_-187436038">Creation</a>
            <ul><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Design.html#Creating+Fragments_-873247671">Creating Fragments</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Design.html#Mutable+Specification_-1241061599">Mutable Specification</a>
            
          </li></ul>
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Design.html#Execution_-68664595">Execution</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Design.html#Reporting_-1406884970">Reporting</a>
            
          </li><li id=""><a href="../../guide-SNAPSHOT/guide/org.specs2.guide.Design.html#Dependencies_-1486089324">Dependencies</a>
            
          </li></ul>
          </li></ul>
          </li></ul>
      <script>$(function () {	$('#tree').jstree({'core':{'initially_open':['743613866','1222727554'], 'animation':200}, 'plugins':['themes', 'html_data']}); });</script>
    </div></div><div id="central"><title>Philosophy</title><a name="Philosophy_-404287780"><h2 specId="1222727554">Philosophy</h2></a><status class="ok"><div class="level0" style="display: show"><a name="The+origins_285155974"><h3>The origins</h3></a><p><strong><em>specs2</em></strong> has been created as an evolution of the <a href="http://code.google.com/p/specs"><strong><em>specs</em></strong></a> project.</p><p><strong><em>specs</em></strong> started as learning project to explore Scala's DSL possibilities for doing Behaviour-Driven-Development (BDD).<br />Among the very first objectives of specs were:</p>
<ul>
  <li><p><strong>conciseness</strong>: it should be possible to express a software specification with the least amount of ceremony</p></li>
  <li><p><strong>readability</strong>: an <em>executable</em> specification should read like a purely textual one, by a non-programmer</p></li>
  <li><p><strong>extensibility</strong>: it should be possible to add new matchers, new runners,...</p></li>
  <li><p><strong>configuration</strong>: there should sensible defaults and an easy way to override those values</p></li>
  <li><p><strong>clear implementation</strong>: since this is an open-source project with no business constraint, there's no excuse for not having a crystal clear implementation, right?</p></li>
  <li><p><strong>great user support</strong>: it's not because something is free that it should be buggy! Moreover this is also a good test on the design. A good design should be easy to fix and evolve</p></li>
</ul></div></status><status class="ok"><div class="level0" style="display: show"><a name="The+score_-975445083"><h3>The score</h3></a><p>After a few years of use, let's have a look at what worked and what didn't.</p><a name="Conciseness_484104204"><h6>Conciseness</h6></a><p>This objective was achieved thanks to the incredible power of implicits in Scala which provide lots of way to create an elegant syntax for specifying software. However, the implementation of that syntactic support has several drawbacks:</p>
<ul>
  <li><p><strong><em>specs</em></strong> provides implicits by inheriting methods from the <code class="prettyprint">Specification</code> class. While this is very convenient this is also considerably polluting the namespace of the user code <em>inside</em> the specification. This pollution leads to possible bugs (an implicit conversion being applied when you don't expect it) and possible namespace conflicts</p></li>
  <li><p>some &quot;reserved&quot; words like <code class="prettyprint">should</code>, <code class="prettyprint">can</code>, <code class="prettyprint">in</code> come from previous BDD libraries like rspec. But they are not always convenient and sometimes one wants to write <code class="prettyprint">&quot;my example should provide&quot;</code> just to avoid having every example under &quot;<code class="prettyprint">&quot;my example&quot; should</code>&quot; start with <code class="prettyprint">&quot;provide...&quot;</code>. There is a way to do this in <strong><em>specs</em></strong> but this requires the creation of an ad-hoc method</p></li>
  <li><p>some people like to structure their specifications with other keywords like Given-When-Then which require additional methods in the library for no more added value than just displaying those words</p></li>
</ul><a name="Readability_1554152347"><h6>Readability</h6></a><p>The readability of a specification written with <strong><em>specs</em></strong> largely depends on the writer of the specification. Since a specification is created by interleaving text and code, if the amount of code is too large then the textual content of the specification is largely lost and the developer cannot read it with just one glance.</p><p>Something was prototyped in <strong><em>specs</em></strong> to alleviate this issue: <a href="http://code.google.com/p/specs/wiki/LiterateSpecifications#A_short_example">LiterateSpecifications</a>. The idea was to use Scala support for XML literal to allow the writer to write pure text and insert, at the right places, some executable examples. It turns out that the implementation of this approach is fairly different from what was done for &quot;regular&quot; examples and cluttered the overall design.</p><a name="Extensibility_330891323"><h6>Extensibility</h6></a><p>Since its first release, <strong><em>specs</em></strong> has been extended in different ways. Many users have created their own matchers (<a href="http://code.google.com/p/specs/wiki/MatchersGuide#Eventually_matchers">some of them</a> have been integrated to the main library).</p><p>On the other hand, the additional runners which were developed for TeamCity or sbt were written by me, as well as other more fundamental enhancements, like <a href="http://code.google.com/p/specs/wiki/DeclareSpecifications#Specification_context">SpecificationContexts</a>.</p><p>The conclusion we can draw on this subject is that it's difficult to design something that's truly extensible without any idea of the future requirements!</p><a name="Configuration_-562058089"><h6>Configuration</h6></a><p>The &quot;sensible&quot; defaults have been debated and some &quot;opinionated&quot; decisions have been taken, like the decision to mark any example without expectation as &quot;Pending&quot; for example. Unfortunately the configuration mechanism offered in exchange (to change the defaults) was not really appealing (a mix of properties-file-reflection-system-properties) and there is few evidence that anyone actually used it.</p><a name="Clear+implementation_-442474307"><h6>Clear implementation</h6></a><p>This objective was certainly <em>not</em> achieved. There are several reasons for this. The design of the examples execution is certainly the main one.</p><p>In <strong><em>specs</em></strong> the examples are executed &quot;on-demand&quot; when a runner &quot;asks&quot; the specification for its successes and failures. The specification then asks each example for its status and an example knows that by executing himself. The trouble is, the example doesn't really have enough information to know it's full execution context: is there some code to execute beforehand for data setup? Or after all other examples, because it's the last example of the specification and a database disconnection is required then?</p><p>This design is aggravated by a &quot;magic&quot; feature provided by <strong><em>specs</em></strong>: <a href="http://code.google.com/p/specs/wiki/DeclareSpecifications#Execution_model">the automatic reset of local variables</a>.<br />This feature is <em>very</em> convenient for the user but the implementation is a nightmare! In order to make as if each example was executed in isolation, as if other examples did not modify surrounding variables, a new specification is created and just one example is executed inside that specification. This works, but at the expense of carefully copying a lot of state from the cloned specification to the original one. More than <em>20</em> issues were created because of that only feature!</p><a name="User+support_-98655206"><h6>User support</h6></a><p>The user support has always been responsive, in terms of bug fixes and enhancements. However the object-oriented nature of <strong><em>specs</em></strong> with lots of variables and side-effects around made some bugs difficult to diagnose and made some enhancements downright impossible. The best example of an &quot;impossible&quot; feature to implement is the concurrent execution of examples.<br />With shared variables all around the place, there's little chance to ever get it right.</p><a name="A+new+hope_894015730"><h3>A new hope</h3></a><p>The redesign of <em><strong>specs2</strong></em> was precisely started to fight the complexities and issues of <em><strong>specs</strong></em>. In order to do that while remaining true to the original vision for <strong><em>specs</em></strong>, a new design compromise was necessary with new design principles:</p>
<ol>
  <li>Do not use mutable variables!</li>
  <li>Use a simple structure</li>
  <li>Control the dependencies (no cycles)</li>
  <li>Control the implicits scopes</li>
</ol><p>As we will see in the paragraphs below, this is a compromise in the sense that there is a bit more burden on the developer who has to write more code to get his specification into shape.</p><a name="Functional+%2F+immutable_2018737816"><h5>Functional / immutable</h5></a><a name="Chaining+everything_1761285342"><h6>Chaining everything</h6></a><p>Mutable variables were the subject of enough grief, I decided it was high time to do without them. This decision has a big impact on the way a user writes a specification. A specification can not anymore be a set of unrelated &quot;blocks&quot; where each block is added to the parent specification through a side effect:</p>
<pre><code class="prettyprint">  &quot;my example is ok&quot; in { 1 must_== 1 }        // those examples are added to the specification by mutating a
  &quot;my other example is ok&quot; in { 2 must_== 2 }  // variable
</code></pre><p>Now the &quot;blocks&quot; have to form a sequence:</p>
<pre><code class="prettyprint">  &quot;my example is ok&quot;       ! e1^               // notice the ^ operator here
  &quot;my other example is ok&quot; ! e2

  def e1 = { 1 must_== 1 }
  def e2 = { 2 must_== 2 }
</code></pre><p>This is clearly a drawback of not having side-effects. The presence of <code class="prettyprint">^</code> everywhere produces unwanted syntactic noise in the specification. One way of minimizing that noise is to make good use of an editor with column editing and align those symbols on the print margin of the screen. The specification can then be read as having 2 columns, one with the text, one with the implementation and the formatting directives.</p><p>The same principle applies to the Examples bodies and has a major consequence: you have to explicitly chain expectations!</p>
<pre><code class="prettyprint">  &quot;my example on strings&quot; ! e1                // will never fail!
  def e1 = {
    &quot;hello&quot; must have size(10000)             // because this expectation will not be returned,...
    &quot;hello&quot; must startWith(&quot;hell&quot;)
  }

  // the correct way of writing the example is
  &quot;my example on strings&quot; ! e1               // will fail
  def e1 = &quot;hello&quot; must have size(10000) and
                        startWith(&quot;hell&quot;)
</code></pre><p>This can be seen as a limitation as well but also as an opportunity for writing better specifications. It's been indeed advocated in several places that there should be only one expectation per example, now the design of <strong><em>specs2</em></strong> actually encourages it!</p><p>One other positive consequence of that design decision is that debugging the library should be almost brainless. Functional Programming is like having a pipe-line. If you don't like the output, you just cut the pipeline in smaller pieces, examine the ins and outs of each and decide where things went wrong.</p><p>That being said, based on early feedback, a <em>mutable</em> version of the Specification trait was later introduced in order to provide a nicer DSL for <em>unit</em> specifications, where the code is interleaved with the descriptions (see <a href="org.specs2.guide.Philosophy.html#But+if+you+STILL+want+mutable+specifications">below</a>). The mutability is limited to <strong>1</strong> variable and to the construction phase of the specification.</p><a name="Arguments+have+to+be+supplied_703189229"><h6>Arguments have to be supplied</h6></a><p>The &quot;local configuration&quot; of a Specification in <strong><em>specs</em></strong> is realized with side-effects too. If you want to declare that the examples in a specification will share variables you can add <code class="prettyprint">shareVariables()</code> at the top of the specification.</p><p>This is not possible anymore in specs2, so you have to explicitly pass arguments at the top of your specification and chain them with the rest:</p>
<pre><code class="prettyprint">  new Specification { def is =  args(color=false)   ^ // will not output colors
    &quot;the rest of the specs&quot;                         ^ end
  }
</code></pre><a name="Concurrency+is+a+breeze_1161543875"><h6>Concurrency is a breeze</h6></a><p>This is one of the expected advantages of using functional programming techniques and thanks to Scalaz awesomeness the concurrent execution of examples is just one line of code!</p>
<pre><code class="prettyprint">  fs.fragments.map(f =&gt; promise(executeFragment(arguments &lt;| fs.arguments)(f))).sequence.get
</code></pre><a name="A+simple+structure_-692949634"><h5>A simple structure</h5></a><p>This principle comes from the desire to unify the traditional <strong><em>specs</em></strong> approach of using blocks with <code class="prettyprint">should</code> and <code class="prettyprint">in</code> keywords with a more <em>literate</em> approach of having just free text.</p><p>In other words, there is no fundamental difference between an &quot;Acceptance Testing&quot; specification and a &quot;Unit Test&quot; specification. This is just a matter of the scale at which you're looking at things.</p><p>Moreover I found that having restrictions on the words I was supposed to use for my specification text didn't help me write the most appropriate descriptions of the system behavior or features.</p><p>The application of this principle is that a specification is composed of &quot;Fragments&quot; which can be some &quot;Text&quot; or some &quot;Example&quot; <em>simply appended together</em>. You can use whatever words you want to describe the examples <code class="prettyprint">should</code>, <code class="prettyprint">can</code>, <code class="prettyprint">must</code>, whatever.</p><p>But wait! Nested structures serve 2 important purposes in <strong><em>specs</em></strong>! They are used to control the scopes of variables that are applicable to examples and to compute the indentation when displaying the results.</p><p>How can this be done in <strong><em>specs2</em></strong>?</p><a name="Contexts_1061086960"><h6>Contexts</h6></a><p>Setting up a proper context for an example, with &quot;fresh&quot; variables, which can be possibly inherited from a &quot;parent&quot; context, does not require any support from the library (difficult to get bugs with that, right :-) ?).</p><p>We simply use case class instances for each Example. Here is a demonstration:</p>
<pre><code class="prettyprint">  &quot;When the user logs in&quot;                      ^
    &quot;his past history must be shown&quot;           ! history().isShown^
    &quot;if he selects tickets&quot;                    ^
      &quot;the list must be displayed&quot;             ! tickets().list^
      &quot;the total amount must be displayed&quot;     ! tickets().total^
      &quot;if he buys tickets&quot;                     ^
        &quot;his favorite payment type is shown&quot;   ! buy().favorite

  trait Login {
    var loggedIn = false
    def login = loggedIn = true
    def logout = loggedIn = false
  }
  case class history() extends Login {
    login
    def isShown = loggedIn must beTrue
  }
  case class tickets() extends Login {
    login
    def list = pending
    def total = pending
  }
  case class buy() extends Login {
    val tickets = new tickets()
    def favorite = pending
  }
</code></pre><p>In the specification above, each example is using its own instance of a case class, having its own local variables which will never be overwritten by another example. Parent context is inherited by means of delegation. For example, in the &quot;buy&quot; context, there is an available <code class="prettyprint">tickets</code> instance placing the system in the desired context.</p><p>There is a clear win here because the library doesn't have to propose new concepts, a new API to offer context management functionalites to: create contexts, share them, reuse them,...</p><p>Moreover in the &quot;simple structure&quot; above, there is no need for adding curly braces <code class="prettyprint">{...}</code> to separate the specification elements. This makes the specification text remarkably close to what's going to be displayed when reported.</p><a name="Indentation_-941511794"><h6>Indentation</h6></a><p>In specs2, indentation is a feature but it doesn't have to be. For example you could just write the specification above as:</p>
<pre><code class="prettyprint">  &quot;When the user logs in&quot;                      ^
  &quot;  his past history must be shown&quot;           ! history().isShown^
  &quot;  if he selects tickets&quot;                    ^
  &quot;    the list must be displayed&quot;             ! tickets().list^
  &quot;    the total amount must be displayed&quot;     ! tickets().total^
  &quot;    if he buys tickets&quot;                     ^
  &quot;      his favorite payment type is shown&quot;   ! buy().favorite
</code></pre><p>Or you can leave <strong><em>specs2</em></strong> compute something reasonable for the indentation along the following rules:</p>
<ul>
  <li>when an example follows a text, it is indented</li>
  <li>2 successive examples will be at the same indentation level</li>
  <li>when a text follows an example, this means that you want to describe a &quot;subcontext&quot;, so the next examples will be indented with one more level</li>
</ul><p>This strategy is most likely to bring appropriate results but there are additional formatting elements which can be inserted in order to adjust the indentation or just skip lines: <code class="prettyprint">p, br, t, bt, end, endbr, endp</code>.</p><a name="Operators_16410242"><h6>Operators</h6></a><p>There are 2 major operators used by <strong><em>specs2</em></strong> when building a Specification: <code class="prettyprint">^</code> and <code class="prettyprint">!</code>.</p><p><code class="prettyprint">^</code> is used to &quot;link&quot; specification fragments together and <code class="prettyprint">!</code> is used to declare the body of an example. The choice of those 2 symbols is mostly the result of the precedence rules in Scala. <code class="prettyprint">+</code> binds more strongly than <code class="prettyprint">!</code>, and <code class="prettyprint">!</code> more strongly than <code class="prettyprint">^</code>. This means that you don't need to add brackets to:</p>
<ul>
  <li>add strings with <code class="prettyprint">+</code>: <code class="prettyprint">&quot;this is&quot;+&quot;my string&quot; ^ &quot;ok?&quot;</code></li>
  <li>declare an example: <code class="prettyprint">&quot;this is some text&quot; ^ &quot;and this is an example description&quot; ! success</code></li>
</ul><a name="Forms_432042387"><h6>Forms</h6></a><p>Having no explicit structure but just a &quot;flow&quot; of Fragments allows to insert other types of Fragments in a <strong><em>specs2</em></strong> specification.</p><p>The &quot;description - expectation&quot; format for specifying software is sometimes too verbose and tables are a much more effective way of packing up descriptions and expectations. This idea is not new and a tool like <a href="http://fitnesse.org">Fitnesse</a> has been offering this way of writing specifications for years now.</p><p><strong><em>specs2</em></strong> takes this idea further with 3 features:</p>
<ul>
  <li><p>the tables (called &quot;Forms&quot;) are statically compiled so adding a new column in a decision table will not fail at runtime (and IDEs provide refactoring tools for better productivity)</p></li>
  <li><p>the Forms are not limited to simple n x m grids and can be nested inside each other. This helps a lot in specifying domain objects where you have aggregates and lists of items</p></li>
  <li><p>the Forms presentation and implementation can be encapsulated in the same class to be reused as a coherent block in other specifications</p></li>
</ul><p>The main drawback (for now) of this approach is that it is not possible to see, in real-time, a modification done on a Form as can be seen in a browser with Fitnesse. There needs to be a compilation step, which in Scala, is not instantaneous.</p><a name="But+if+you+STILL+want+mutable+specifications_1530622421"><h5>But if you STILL want mutable specifications</h5></a><p>There are at least 2 very good reason for that.</p>
<ol>
  <li><p>you want a smooth migration path from <em><strong>specs</strong></em> to <strong><em>specs2</em></strong> because rewriting specifications from scratch, with a new syntax, does not bring a lot of value to your project</p></li>
  <li><p>chaining fragments hides the implementation of the examples and you have to navigate too much between the text and the example code to understand what's going on. This is especially true when writing <em>unit</em> specifications where it's convenient to interleave short descriptions with blocks of code</p></li>
</ol><p>Well, Scala is not a black-or-white language and mutation is definitely part of the toolbox. In the case of a specification DSL, we know the advantages: less syntax, and the drawbacks: uncontrolled side-effects.</p><p>Thus, in <em><strong>specs2</strong></em> it is possible to create specifications which look almost like the ones which can be created with <strong><em>specs</em></strong>, with a bit less functionalities:</p>
<pre><code class="prettyprint">    import org.specs2.mutable._   // similar to the mutable package for Scala collections

    class MyMutableSpecification extends Specification {
      &quot;This specification&quot; should {
        &quot;build examples with side-effects&quot; in { success }
        &quot;even use side-effects to avoid chaining expectations&quot; in {
           1 must_== 2
           // the rest won't be executed
           success
        }
      }
    }
</code></pre><p>The important things to know are:</p>
<ul>
  <li>side-effects are only used to build the specification fragments, by mutating a variable</li>
  <li>they are also used to short-circuit the execution of an example as soon as there is a failure (by throwing an exception)</li>
  <li>if you build fragments in the body of examples or execute the same specification concurrently, the sky should fall down</li>
  <li>&quot;context&quot; management is to be done with case classes or traits (see <code class="prettyprint">org.specs2.examples.MutableSpec</code>)</li>
</ul><a name="Dependencies+control_306079698"><h5>Dependencies control</h5></a><p>One classical impediment to software evolution is circular dependencies between packages in a project. The new <strong><em>specs2</em></strong> design makes sure that a layered architecture is maintained, from low-level packages to high-level ones:</p>
<ul>
  <li>runner</li>
  <li>reporter</li>
  <li>specification mutable</li>
  <li>mock form</li>
  <li>matcher</li>
  <li>execute</li>
  <li>reflect xml html time json</li>
  <li>collection control io text main data</li>
</ul><p>In this scheme, a specification is no longer executable on its own, contrary to the <strong><em>specs</em></strong> design. It always need a runner.</p><p>Unfortunately this dependency specification is not yet enforced automatically in <strong><em>specs2</em></strong> test suite, but this kind of feature could be implemented in the future.</p><a name="Implicit+definitions+control_-417061706"><h5>Implicit definitions control</h5></a><p>There is a real tension to be solved here. On one hand, I want to encourage conciseness so that one should not have to stack too many traits on top of the Specification declaration to get the desired features. On the other hand, the more traits you add, the more implicits you bring in.</p><p>So the compromise is the following:</p>
<ul>
  <li>The <code class="prettyprint">BaseSpecification</code> trait only allows to build Text fragments and Examples, without even any Matchers</li>
  <li>On top of it, the <code class="prettyprint">Specification</code> trait stacks lots of convenient functionalities to<br /> . use a concise notation for arguments<br /> . use matchers (with both <code class="prettyprint">must</code> and <code class="prettyprint">should</code>)<br /> . use predefined fragments and results (like <code class="prettyprint">p</code>, <code class="prettyprint">br</code>, <code class="prettyprint">success</code>, <code class="prettyprint">pending</code>,...)<br /> . and more</li>
  <li>Specific traits are available to selectively deactivate features. For instance <code class="prettyprint">NoAutoExamples</code> deactivates the creation of examples from simple expectations.</li>
</ul><p>This way, if there is any conflict when inheriting from the <code class="prettyprint">Specification</code> trait, it should be possible to either:</p>
<ul>
  <li>downgrade to the <code class="prettyprint">BaseSpecification</code> and add the non-conflicting traits</li>
  <li>mix-in specific traits to remove the problematic implicit definitions</li>
</ul>
<hr /><p><br /></p></div></status></div><div id="rightcolumn"></div></body></html>